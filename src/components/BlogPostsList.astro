---
import FormattedDate from '@components/FormattedDate.astro';
import Heading from '@components/solid/blocks/Heading';
import type { GetBlogPostsItem } from '@src/pages/api/blogPosts';

interface Props {
  posts: GetBlogPostsItem[]
  gapX?: number
}

const { posts, gapX = 10 } = Astro.props;

const gapXClass: Record<number, string> = {
  1: 'gap-x-1',
  2: 'gap-x-2',
  3: 'gap-x-3',
  4: 'gap-x-4',
  5: 'gap-x-5',
  6: 'gap-x-6',
  7: 'gap-x-7',
  8: 'gap-x-8',
  9: 'gap-x-9',
  10: 'gap-x-10',
}
---

<ul class=`flex flex-auto flex-wrap gap-y-10 ${gapXClass[gapX]} items-baseline justify-center`>
  {posts.map((post) => (
      <li class="max-w-[20rem] shadow-lg active:shadow-2xl hover:shadow-2xl rounded-md">
        <a class="active:first:saturate-[1.85] hover:first:saturate-[1.85]" href={`/blog/${post.slug}`}>
          <img
            class="
              max-h-fit
              relative
              cursor-pointer
              filter
              mx-auto
              transition-all duration-150
              rounded-t-md"
            src={post.heroImage}
            alt=""
          />

          <div class="px-4 py-1 pb-3">
            <Heading size="xl" className="pt-2">{post.title}</Heading>
            <em class="text-sm"><FormattedDate date={new Date(post.pubDate)} /></em>
            <p class="pt-3">
              {post.description}
            </p>
          </div>

        </a>
      </li>
    ))
  }
</ul>